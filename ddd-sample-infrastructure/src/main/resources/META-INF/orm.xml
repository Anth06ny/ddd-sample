<?xml version="1.0" encoding="UTF-8" ?>
<entity-mappings
	xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd"
	version="1.0">
	<description>My First JPA XML Application</description>
	<package>entity</package>

	<mapped-superclass
		class="fr.training.spring.shop.domain.common.BaseEntity"
		access="FIELD">
		<attributes>
			<id name="id" >
				<column name="ID"  />
			</id>
		</attributes>
	</mapped-superclass>

	<entity
		class="fr.training.spring.shop.domain.customer.CustomerEntity">
		<table name="CUSTOMER" />
		<attributes>
			<embedded name="customerVO" />
		</attributes>
	</entity>
	<embeddable
		class="fr.training.spring.shop.domain.customer.CustomerVO"
		access="FIELD">
		<attributes>
			<basic name="name">
				<column name="NAME" />
			</basic>
			<basic name="password">
				<column name="PASSWORD" />
			</basic>
		</attributes>
	</embeddable>

	<entity class="fr.training.spring.shop.domain.item.ItemEntity">
		<table name="ITEM" />
		<attributes>
			<embedded name="itemVO" />
			<many-to-many name="orders" fetch="LAZY" />
		</attributes>
	</entity>
	<embeddable
		class="fr.training.spring.shop.domain.item.ItemVO" access="FIELD">
		<attributes>
			<basic name="description">
				<column name="DESCRIPTION" />
			</basic>
			<basic name="price">
				<column name="PRICE" />
			</basic>
		</attributes>
	</embeddable>

	<entity class="fr.training.spring.shop.domain.order.OrderEntity">
		<table name="ORDERS" />
		<attributes>
			<many-to-one name="customer" fetch="LAZY">
				<join-column name="CUSTOMER_ID"  />
			</many-to-one>
			<many-to-many name="items" fetch="LAZY"
				mapped-by="orders" />
		</attributes>
	</entity>
</entity-mappings>